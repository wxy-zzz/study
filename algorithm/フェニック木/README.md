# フェニック木

*フェニック木は、部分和の計算と要素の更新の両方を効率的に行える木構造*（[Wikipedia](https://ja.wikipedia.org/wiki/%E3%83%95%E3%82%A7%E3%83%8B%E3%83%83%E3%82%AF%E6%9C%A8)）

## 詳細

### $b & -b$ で起きること

$b$ に対する $-b$ は、全ての bit を反転した上で $+1$ したものである。
$b & -b$ で得られる値は、$b$ の最も下位に 1 が立っている bit だけを残した値になる。

#### サンプル（4 桁目を符号フラグとする）

| $b$ (10 進数) | $b$ | $-b$ | $b & -b$ | $b & -b$ (10 進数) |
| --: | :-:  | :-:  | :-:  | --: |
|   0 | 0000 | 0000 | 0000 |   0 |
|   1 | 0001 | 1111 | 0001 |   1 |
|   2 | 0010 | 1110 | 0010 |   2 |
|   3 | 0011 | 1101 | 0001 |   1 |
|   4 | 0100 | 1100 | 0100 |   4 |
|   5 | 0101 | 1011 | 0001 |   1 |
|   6 | 0110 | 1010 | 0010 |   2 |
|   7 | 0111 | 1001 | 0001 |   1 |
